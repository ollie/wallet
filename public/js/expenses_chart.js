// Generated by CoffeeScript 2.5.0
(function() {
  this.ExpensesChart = class ExpensesChart {
    constructor() {
      this.element = $('#expenses-chart');
      if (!this.element.length) {
        return;
      }
      HighchartsConfig.init();
      this.init();
    }

    init() {
      return $.getJSON(this.element.data('url'), (data) => {
        var options;
        if (!data.length) {
          return;
        }
        data = data.map(function(item) {
          return {
            name: item.name,
            data: [Number(item.sum)]
          };
        });
        options = {
          title: null,
          chart: {
            type: 'column',
            spacing: [5, 0, 5, 0]
          },
          xAxis: {
            categories: ['Výdaje']
          },
          yAxis: {
            title: null
          },
          tooltip: {
            valueSuffix: ' Kč'
          },
          // plotOptions:
          //   series:
          //     animation: 500
          series: data
        };
        return Highcharts.chart(this.element.attr('id'), options);
      });
    }

  };

}).call(this);
